{% extends "base.html" %}

{% block content %}

<style>
    .mui-container-fluid {
        color: red;
    }

    .mui-form {
        background-color: #00B0FF;
    }

    .mui-col-md-3 {
        background-color: #00ffff;
        color: black;
        width: 275px;
    }

    .mui-col-md-4 {
        background-color: #0BB10D;
        color: black;
        width: 275px;
    }
</style>

<ul class="mui-tabs__bar">
    <li class="mui--is-active"><a style="color: red; background-color: #212121;" data-mui-toggle="tab"
                                  data-mui-controls="tests-tab">
        Test & View Results
    </a>
    </li>
    <li><a style="color: red; background-color: #212121;" data-mui-toggle="tab"
           data-mui-controls="configuration-tab">
        Configuration
    </a></li>
    <li><a style="color: red; background-color: #212121;" data-mui-toggle="tab"
           data-mui-controls="about-tab">
        About
    </a></li>
</ul>


<div class="mui-tabs__pane mui--is-active" id="tests-tab">
    <br>
    <div class="mui-container-fluid">
        <form class="mui-form" method="POST" action="/StartTests">
            <fieldset style="text-align: center; color: black;">
                <h3><u><strong><a style="color: black;" href="/">Run Tests & View Results</a></strong></u></h3>
                <div class="mui-checkbox" style="display: inline-block;">
                    <label class="container_checkbox">
                        <input type="checkbox" name="mtr" value="" checked>
                        Run MTR
                    </label>
                </div>
                <div class="mui-checkbox" style="display: inline-block;">
                    <label class="container_checkbox">
                        <input type="checkbox" name="iperf" value="" checked>
                        Run iPerf 3
                    </label>
                </div>
                <br>
                <button type="submit" class="mui-btn mui-btn--raised" {{ DisabledButton }}>Run Test(s)</button>
            </fieldset>
        </form>
        <h3 id="blink_shadow" style="color: red; text-align: center;">{{ TestsRunning }}</h3>
        <fieldset style="text-align: center; color: greenyellow; white-space: pre-wrap;">
            <h3 style="color: red;"><u>MTR Results</u></h3>{{ Results_MTR|safe }}
            <h3 style="color: red;"><u>iPerf3 Results</u></h3>{{ Results_iPerf|safe }}
        </fieldset>
    </div>
</div>

<div class="mui-tabs__pane" id="configuration-tab">
    <br>
    <div class="mui-container-fluid">
        <form class="mui-form" method="POST" action="/EditConfiguration">
            <fieldset style="text-align: center;">
                <h3><u><strong><a style="color: black;" href="/">Configurations</a></strong></u></h3>
                <div class="mui-textfield">
                    <label style="color: black">Interactive Unit IP
                        <br>
                        <input style="width: 125px;" type="text" maxlength="15" name="iPerfPort"
                               value="{{ InteractiveIP }}">
                    </label>
                </div>
                <br>
                <div class="mui-textfield">
                    <label style="color: black">Remote iPerf 3 Server IP
                        <br>
                        <input style="width: 125px;" type="text" maxlength="15" name="iPerfPort"
                               value="{{ ServerIP }}">
                    </label>
                </div>
                <br>
                <div class="mui-textfield">
                    <label style="color: black">iPerf 3 Server Port #
                        <br>
                        <input style="width: 75px;" type="number" min="1" max="65535" name="iPerfPort"
                               value="{{ iPerfPort }}">
                    </label>
                </div>
                <br>
                <div class="mui-textfield">
                    <label style="color: black;">MTR Run Count
                        <br>
                        <input style="width: 75px;" type="number" min="1" max="1000" name="MTRCount"
                               value="{{ MTRCount }}">
                    </label>
                </div>
                <br>
                <button type="submit" class="mui-btn mui-btn--raised">Save Settings</button>
                <br>
            </fieldset>
        </form>
    </div>
</div>

<div class="mui-tabs__pane" id="about-tab">
    <br>
    <div class="mui-container-fluid" style="align-items: center;">
        <div class="mui-row" style="padding-left: inherit;">
            <div class="mui-col-md-3"><b>Operating System</b></div>
            <div class="mui-col-md-4"><b>{{ OSVersion }}</b></div>
        </div>

        <div class="mui-row" style="padding-left: inherit;">
            <div class="mui-col-md-3"><b>Kootnet Ethernet Testers Version</b></div>
            <div class="mui-col-md-4"><b>{{ KootnetVersion }}</b></div>
        </div>
    </div>
</div>

<script type="text/javascript">
    (function () {
        if (document.getElementById("blink_shadow").textContent.length > 0) {
            var blinks = document.getElementById("blink_shadow");
            var shadow_colour = "green";
            window.setTimeout(refresh_page_timed, 10000);
            window.setInterval(function () {
                blinks.style.color = shadow_colour;
                shadow_colour = (shadow_colour === "green") ? "red" : "green";
            }, 1000);
        }
    })();

    function refresh_page_timed() {
        window.location = "/";
    }
</script>

{% endblock %}
